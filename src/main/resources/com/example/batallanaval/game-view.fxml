<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane fx:id="rootStack" prefHeight="800" prefWidth="1400" style="-fx-padding: 0;" stylesheets="@theme.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.batallanaval.controllers.GameController">

    <ImageView fitHeight="${rootStack.height}" fitWidth="${rootStack.width}" focusTraversable="false" pickOnBounds="true" preserveRatio="false">
        <image>
            <Image url="@barco_img.jpg" />
        </image>
    </ImageView>

    <Region mouseTransparent="true" style="-fx-background-color: rgba(11, 29, 42, 0.5);" />

    <BorderPane fx:id="root" style="-fx-background-color: transparent;">

        <top>
            <Label style="-fx-padding: 10 0 0 0;" styleClass="title-label" text="ðŸŒŠ Batalla Naval" BorderPane.alignment="CENTER" />
        </top>

        <left>
            <VBox fx:id="fleetPanel" alignment="CENTER" maxWidth="280" minWidth="280" prefWidth="280" spacing="5" style="-fx-padding: 0 0 0 20;">
                <Label fx:id="lblPlayerName" style="-fx-font-size: 18px; -fx-text-fill: #EAC46F; -fx-font-weight: bold;" text="Jugador: Desconocido" />
                <Region prefHeight="5" />
                <Label style="-fx-padding: 0 0 5 0;" styleClass="section-label" text="Tu Flota" />
                <VBox alignment="CENTER" spacing="0">
                    <Label styleClass="ship-label" text="ðŸ›³ Portaaviones (1)" />
                    <VBox fx:id="carrierContainer" alignment="CENTER" minHeight="45" prefHeight="45" />
                </VBox>
                <VBox alignment="CENTER" spacing="0">
                    <Label styleClass="ship-label" text="ðŸš¤ Submarinos (2)" />
                    <VBox fx:id="submarineContainer" alignment="CENTER" minHeight="85" prefHeight="85" spacing="2" />
                </VBox>
                <VBox alignment="CENTER" spacing="0">
                    <Label styleClass="ship-label" text="ðŸ›¥ Destructores (3)" />
                    <VBox fx:id="destroyerContainer" alignment="CENTER" minHeight="125" prefHeight="125" spacing="2" />
                </VBox>
                <VBox alignment="CENTER" spacing="0">
                    <Label styleClass="ship-label" text="â›µ Fragatas (4)" />
                    <VBox fx:id="frigateContainer" alignment="CENTER" minHeight="165" prefHeight="165" spacing="2" />
                </VBox>
                <Region prefHeight="15" />
                <VBox alignment="CENTER" spacing="8">
                    <Button fx:id="btnRotate" onAction="#onRotateClick" prefWidth="220" styleClass="button" text="ðŸ”„ Rotar Barco" />
                    <Button fx:id="btnRandom" onAction="#onRandomBoard" prefWidth="220" styleClass="button" text="ðŸŽ² Organizar" />
                    <Button fx:id="btnReveal" prefWidth="220" styleClass="reveal-button" text="ðŸ‘ Revelar MÃ¡quina" />
                </VBox>
            </VBox>
        </left>

        <center>
            <VBox alignment="TOP_CENTER" spacing="50">
                <padding>
                    <Insets bottom="10" top="30" />
                </padding>
                <HBox alignment="CENTER" spacing="50">
                    <VBox alignment="TOP_CENTER" spacing="10">
                        <Label styleClass="section-label" text="Tablero del Jugador" />
                        <StackPane fx:id="playerArea" maxHeight="502" maxWidth="502" minHeight="502" minWidth="502" prefHeight="502" prefWidth="502">
                            <GridPane fx:id="playerBoard" gridLinesVisible="false" maxHeight="500" maxWidth="500" minHeight="500" minWidth="500" prefHeight="500" prefWidth="500" styleClass="board">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                </columnConstraints>
                                <rowConstraints>
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                </rowConstraints>
                            </GridPane>
                            <Pane fx:id="shipLayer" pickOnBounds="true" />
                        </StackPane>
                  <Label fx:id="lblPlayerShips" prefHeight="27.0" prefWidth="256.0" textFill="#838e54">
                     <font>
                        <Font name="System Bold Italic" size="18.0" />
                     </font></Label>
                    </VBox>
                    <VBox alignment="TOP_CENTER" spacing="10">
                        <Label styleClass="section-label" text="Tablero de la MÃ¡quina" />
                        <StackPane fx:id="machineArea" maxHeight="502" maxWidth="502" minHeight="502" minWidth="502" prefHeight="502" prefWidth="502">
                            <GridPane fx:id="machineBoard" gridLinesVisible="false" maxHeight="500" maxWidth="500" minHeight="500" minWidth="500" prefHeight="500" prefWidth="500" styleClass="board">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                    <ColumnConstraints percentWidth="10" />
                                </columnConstraints>
                                <rowConstraints>
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                    <RowConstraints percentHeight="10" />
                                </rowConstraints>
                            </GridPane>
                            <Pane fx:id="revealLayer" mouseTransparent="true" pickOnBounds="false" />
                            <Pane fx:id="enemyLayer" mouseTransparent="true" pickOnBounds="false" />
                        </StackPane>
                  <Label fx:id="lblMachineShips" prefHeight="27.0" prefWidth="225.0" textFill="#48480f">
                     <font>
                        <Font name="System Bold Italic" size="18.0" />
                     </font></Label>
                    </VBox>
                </HBox>
                <HBox alignment="CENTER" spacing="40">
                    <Button onAction="#onBackToMenu" prefHeight="50" prefWidth="220" styleClass="back-button" text="ðŸ  Regresar" />
                    <Button fx:id="btnStart" disable="true" prefHeight="50" prefWidth="250" styleClass="start-button" text="ðŸš€ Iniciar Batalla" />
                </HBox>
            </VBox>
        </center>
    </BorderPane>
</StackPane>
